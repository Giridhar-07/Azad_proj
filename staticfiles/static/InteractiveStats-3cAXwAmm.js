import{j as a}from"./three-PVHJxuLZ.js";import{r as e}from"./vendor-CbPAJjyB.js";import{a as t}from"./index-EkTd_kSM.js";import{m as i,d as s}from"./animations-6bOz3eGd.js";const l=({value:t,label:l,suffix:n="",icon:o,color:r="#3b82f6",delay:c=0})=>{const u=e.useRef(null),d=s(u,{once:!0,amount:.3}),[m,f]=e.useState(0),[b,v]=e.useState(!1);return e.useEffect(()=>{if(d&&!b){v(!0);setTimeout(()=>{const a=2500+200*c,e=Date.now(),i=t,s=()=>{const t=Date.now()-e,l=Math.min(t/a,1),n=1-Math.pow(1-l,4),o=0+(i-0)*n;f(Math.floor(o)),l<1&&requestAnimationFrame(s)};requestAnimationFrame(s)},100*c)}},[d,t,c,b]),a.jsxs(i.div,{ref:u,className:"stat-item",initial:{opacity:0,y:30,scale:.9},animate:d?{opacity:1,y:0,scale:1,transition:{duration:.8,delay:.1*c,ease:[.6,-.05,.01,.99]}}:{},whileHover:{scale:1.05,y:-5,transition:{duration:.3}},style:{background:`linear-gradient(135deg, ${r}15, ${r}05)`,borderColor:`${r}30`},children:[o&&a.jsx(i.div,{className:"stat-icon",initial:{rotate:0},animate:d?{rotate:360}:{},transition:{duration:1,delay:.1*c+.5},children:o}),a.jsxs(i.div,{className:"stat-value",style:{color:r},initial:{scale:.8},animate:d?{scale:1}:{},transition:{duration:.5,delay:.1*c+.3},children:[m,n]}),a.jsx(i.div,{className:"stat-label",initial:{opacity:0},animate:d?{opacity:1}:{},transition:{duration:.6,delay:.1*c+.6},children:l})]})},n=({stats:s,showTeamStats:n=!1})=>{const[o,r]=e.useState(s||[]),[c,u]=e.useState(n),[d,m]=e.useState(null),f=e.useCallback(async()=>{if(n)try{u(!0);const a=await t.getTeamStats();if(a.success&&a.stats){const{stats:e}=a,t=[{value:e.total_members,label:"Team Members",suffix:"",icon:"ðŸ‘¥",color:"#3b82f6"},{value:e.leadership_count,label:"Leadership Team",suffix:"",icon:"â­",color:"#f59e0b"},{value:e.departments_count,label:"Departments",suffix:"",icon:"ðŸ¢",color:"#10b981"},{value:Math.round(10*e.average_experience)/10,label:"Avg Experience",suffix:" years",icon:"ðŸ“ˆ",color:"#8b5cf6"},{value:e.total_skills||45,label:"Total Skills",suffix:"+",icon:"ðŸ› ï¸",color:"#ef4444"}];r(t)}}catch(a){m("Failed to load team statistics"),r([{value:25,label:"Team Members",suffix:"",icon:"ðŸ‘¥",color:"#3b82f6"},{value:5,label:"Leadership Team",suffix:"",icon:"â­",color:"#f59e0b"},{value:4,label:"Departments",suffix:"",icon:"ðŸ¢",color:"#10b981"},{value:4.2,label:"Avg Experience",suffix:" years",icon:"ðŸ“ˆ",color:"#8b5cf6"}])}finally{u(!1)}},[n]);return e.useEffect(()=>{n?f():s&&r(s)},[n,s,f]),c?a.jsxs("div",{className:"interactive-stats-container loading",children:[a.jsx(i.div,{className:"loading-spinner",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:"â³"}),a.jsx("p",{children:"Loading statistics..."})]}):d&&0===o.length?a.jsxs("div",{className:"interactive-stats-container error",children:[a.jsxs("p",{children:["âš ï¸ ",d]}),a.jsx("button",{onClick:f,className:"retry-button",children:"Try Again"})]}):a.jsx(i.div,{className:"interactive-stats-container",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6},children:o.map((e,t)=>a.jsx(l,{...e,delay:t},`${e.label}-${t}`))})};export{n as default};
